{% extends "menu-admin.html" %}

{% block title %}Reponer Stock{% endblock %}

{% block content %}
<div class="glass-container">
    <h2 class="text-2xl font-bold mb-6 text-white">Reponer Stock: {{ producto.modelo }}</h2>
    
    <div class="glass-card mb-6 p-4">
        <h3 class="text-lg font-semibold text-white mb-2">Estado Actual</h3>
        <p class="text-gray-300">Stock Actual: <span class="font-mono text-white">{{ producto.cantidad }}</span></p>
        <p class="text-gray-300">Costo Promedio (PMP): <span class="font-mono text-white">{{ producto.costo }} €</span></p>
    </div>

    <form method="POST" class="space-y-4">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        
        <div>
            <label for="cantidad" class="block text-sm font-medium text-gray-300">Cantidad a Añadir</label>
            <input type="number" name="cantidad" id="cantidad" required min="1"
                   class="mt-1 block w-full bg-white/10 border border-white/20 rounded-md shadow-sm py-2 px-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>

        <div>
            <label for="costo" class="block text-sm font-medium text-gray-300">Costo Unitario de Compra (€)</label>
            <input type="number" step="0.01" name="costo" id="costo" required min="0"
                   class="mt-1 block w-full bg-white/10 border border-white/20 rounded-md shadow-sm py-2 px-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            <p class="mt-1 text-xs text-gray-400">El costo unitario de esta nueva partida. Se recalculará el PMP automáticamente.</p>
        </div>

        <div class="flex justify-end space-x-3 pt-4">
            <a href="{{ url_for('inventario.productos') }}" class="back-btn px-4 py-2 rounded-md text-sm font-medium text-gray-300 hover:text-white hover:bg-white/10 transition-colors">
                Cancelar
            </a>
            <button type="submit" class="cta px-4 py-2 rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors">
                Confirmar Reposición
            </button>
        </div>
    </form>
</div>
{% endblock %}
